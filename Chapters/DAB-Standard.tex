% ----------------------------------------------------
% DAB Standard
% ----------------------------------------------------
\documentclass[class=report,11pt,crop=false]{standalone}
\input{../Style/ChapterStyle.tex}
\input{../FrontMatter/Glossary.tex}
\begin{document}
\ifstandalone
\tableofcontents
\fi
% ----------------------------------------------------
\chapter{Digital Audio Broadcasting: Standard \label{ch:dab-standard}}
\epigraph{Where the waters do agree, it is quite wonderful the relief they give.}%
    {\emph{---Jane Austen, Emma}}
\vspace{0.5cm}
% ----------------------------------------------------

\section{Overview}
This chapter aims to outline the salient aspects of the \gls{dab} standard, as prescribed by the \gls{etsi} in~\cite{dabstandard}. Fundamentally, the \gls{dab} standard was built upon two important communication technologies: \gls{cofdm}, and \gls{dqpsk}. Without the innovations witnessed in these domains in the latter half of the twentieth century, it is unlikely that the \gls{dab} system could have been adequately designed, while maintaining a suitable degree of spectral efficiency and information robustness. Each of these concepts will thus be thoroughly discussed in the following sections. For the sake of clarity, the provided explanations attempt to be as graphical as possible, leaving out the sometimes-obfuscating mathematical details. Thereafter, the \gls{dab} frame structure will be outlined, with the key regions highlighted where appropriate.

Note, however, that this project focused on \gls{dab} signals within the context of \gls{pr}; therefore, it was unnecessary to provide a complete and thorough description of the \gls{dab} format itself. Instead, information was considered only insofar as it was relevant to the broader picture of a \gls{pr} processing chain. As a consequence, the details surrounding \gls{dab}'s audio coding, configuration information, and other data features were omitted for simplicity.

\section{Coded Orthogonal Frequency Division Multiplexing}
\gls{cofdm} is the first pillar upon which the \gls{dab} standard was built. As its name suggests, this technology is a special case of \gls{ofdm}, which itself is a special case of \gls{fdm}. Each of these concepts will be explored in the coming text, along with other important considerations surrounding the implementation of \gls{cofdm}, starting with the motivation for it. The reader is also encouraged to see~\cite{Raulta} and~\cite{Shelswell1995} for a deeper exploration of \gls{cofdm}.

\subsection{Motivation: The Problem of Multipath \label{subsect:multipath}}

The \gls{dab} standard was designed to replace the conventional \gls{fm} and \gls{am} analogue modes of broadcasting, with the intention of audio and data reception in both fixed and mobile environments~\cite{dabstandard}. Of these two listening contexts, the more common one was---and still is---certainly the latter. Despite living in an era saturated by computers and the internet, radio has remained a staple for many people in their cars---enabling them to listen to content while commuting. The reception environment for a \gls{dab} signal was thus known beforehand as one that would be highly dynamic and somewhat unpredictable. This situation was made worse by the reality that many receivers would be in urban centres, which contain numerous high-rise buildings and other "clutter."

To understand the challenges of such environments, consider the following simple scenario: suppose one transmitted a set of symbols, \(\mathcal{D}\), using an arbitrary digital modulation scheme with a carrier frequency~\(\omega_0\), to a mobile receiver in an urban setting. Suppose too that each of the symbols modulated the carrier wave in succession for a finite period, \(t_s\), and call this the "symbol period". Once modulated, the carrier wave would be transmitted by a stationary antenna and travel through the environment, at times bouncing off surrounding objects, such as buildings, cars, mountains, and trees. Provided there was a direct path from the transmitter to the receiver, the signal---the "direct signal"---would travel along this path. Additionally, due to the surrounding clutter, duplicate versions of the signal---"delayed signals"---would also arrive at the receiver. This effect is called \emph{multipath}. Figure~\ref{fig:multipath-illustration} illustrates this scenario with dashed lines indicating the various signal paths.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \def\svgwidth{0.8\linewidth}
    {\setstretch{0.7} % Line spacing
    \scriptsize
        \input{../Images/multipath-illustration.pdf_tex}}
    \caption{Illustration of an environment where multipath occurs}
    \label{fig:multipath-illustration}
\end{figure}

By definition, the direct signal would take the shortest path from the transmitter to the receiver, and thus the time to receive this signal would be shorter than for all the others---it would "arrive" first at the receiver. The delayed signals, each taking a longer route than the direct path, would be received later, each after a certain amount of time. The number of delayed copies that were received, and how long these delays were, would depend on the clutter contained within the scene. Importantly, the receiving antenna would \emph{not} be able simply to separate the direct signal and the delayed signals; rather, it would record a superposition of them, as a single "received signal."

For the sake of simplicity, suppose only one delayed signal is received, with a delay period of~\(t_d\). Consider the two possible situations that could arise in such a scenario for the received signal---the sum of the direct and delayed signals. Firstly, the delay period could be \emph{shorter} than the symbol period; that is, \(t_d < t_s\). Figure~\ref{fig:multipath-symbol-lessthan} depicts such a situation graphically, with three symbols---blue, pink, green---used for illustration.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \def\svgwidth{0.8\linewidth}
    {\setstretch{0.7} % Line spacing
        \input{../Images/multipath-symbol-lessthan.pdf_tex}}
    \caption{Multipath situation with \(t_d < t_s\)}
    \label{fig:multipath-symbol-lessthan}
\end{figure}

For the receiver's demodulation system to extract the information of an incoming signal, it must measure the data over a particular "integration period"---in this case, equal to the symbol length, \(t_s\). Notice in the figure how the extraction of the second, pink symbol from the direct signal is affected by the presence of the delayed signal. For the first half of the integration period for this symbol, the blue and pink symbols overlap, causing \gls{isi}---depicted as a pattern of striped blue and pink in the received signal. The severity of this interference depends on the magnitude of the delayed signal, compared to the magnitude of the original signal. In any case, recovering the correct information from this region becomes unreliable. Fortunately, though, since the symbol period is longer than the delay period, some of the original, direct, pink symbol symbol is superimposed with some of the pink symbol in the delayed signal, creating a "pink-only" region within the integration period. While the demodulator is not guaranteed to extract this symbol successfully---since some of the integration period is still corrupted---it remains possible. Naturally, the less of the symbol period that is corrupted, the more likely correct demodulation will occur. An additional strategy for improving these chances is by adding a so-called "guard interval," which will be covered in a later section.

In contrast, consider the second situation for the received signal, where the delay period is \emph{longer} than the symbol period; that is, \(t_d \ge t_s\). An illustration for this situation is provided in Figure~\ref{fig:multipath-symbol-morethan}, with the same three coloured symbols shown.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \def\svgwidth{0.8\linewidth}
    {\setstretch{0.7} % Line spacing
        \input{../Images/multipath-symbol-morethan.pdf_tex}}
    \caption{Multipath situation with \(t_d \ge t_s\)}
    \label{fig:multipath-symbol-morethan}
\end{figure}

In this case, the entire pink symbol from the direct signal is superimposed with the entire blue symbol from the delayed signal. The result of this is a completely corrupted symbol in the received signal, over the whole integration period. Consequently, the original information in this symbol cannot be recovered reliably.

From this example, it is clear that the symbol length, \(t_s\), determines the maximum allowable multipath delay, \(t_d\). It follows that for reliable communication in mobile and urban environments, for which the \gls{dab} standard was primarily designed, a longer symbol length is preferred---equivalently, a lower data-rate. The longer the symbol---i.e. the slower the data-rate---the more robust a receiver system will be to the effects of multipath
%  This is a challenging tradeoff to navigate.

\subsection{Frequency Division Multiplexing}
The discussion from the previous example assumed a "serial" approach, where a \emph{single} carrier wave was modulated with successive elements of \(\mathcal{D}\). Instead of this, one could take a "parallel" approach, by splitting \(\mathcal{D}\) into \(n\) subsets, and then using these subsets to modulate \(n\) independent carriers respectively---sometimes called "sub-carriers". As a result, each symbol could be \(n\) times longer---increasing its multipath resilience---while maintaining the original, faster data-rate. This approach is termed \gls{fdm}\footnote{Strictly speaking, \gls{fdm} is the fairly general concept of sharing a communication channel between multiple frequency bands---including, for example, transmitting multiple \gls{fm} radio stations at different centre frequencies simultaneously. On the other hand, transmitting multiple \emph{bitstreams} by multiplexing them in the frequency domain is sometimes specifically termed \gls{mcm}~\cite{Bingham1990}---a special case of \gls{fdm}. Nonetheless, since the \gls{dab} standard simply refers to the concept as \gls{fdm}, the distinction will not be further considered.}. Figure~\ref{fig:carrier-illustration} illustrates these situations with two simplified spectrograms. For the sake of clarity, the frequency components are shown to be perfectly impulsive, and no modulation parameter is depicted.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \begin{subfigure}[t]{0.48\textwidth}
        \centering
        \def\svgwidth{0.9\linewidth}
        {\setstretch{0.7} % Line spacing
            \input{../Images/serial-carrier-alt.pdf_tex}}
        \caption{Single carrier with a shorter symbol period.}
        \label{fig:serial-carrier}
    \end{subfigure}%
    ~ 
    \begin{subfigure}[t]{0.48\textwidth}
        \def\svgwidth{0.9\linewidth}
        {\setstretch{0.7} % Line spacing
            \input{../Images/parallel-carrier-alt.pdf_tex}}
        \caption{Multiple carriers with a longer symbol period.}
        \label{fig:parallel-carrier}
    \end{subfigure}
    \caption{Simplified spectrograms for the two approaches to transmitting a set of symbols, \(\mathcal{D}\).}
    \label{fig:carrier-illustration}
\end{figure}

Figure~\ref{fig:serial-carrier} shows the serial case, where all three symbols---blue, pink, and green---are successively modulated (in some unspecified way) on the carrier wave with a frequency of \(\omega_0\). Figure~\ref{fig:parallel-carrier}, on the other hand, shows the parallel case, with the three symbols split into three separate groups, respectively modulating sub-carriers with frequencies of \((\omega_0 - \Delta \omega)\), \(\omega_0\), and \((\omega_0 + \Delta \omega)\). Notice the symbol period,~\(t_d\), for the latter situation is three times longer than that of the former. Nonetheless, it is clear from these plots that in each scenario, the same amount of data is transmitted over the same amount of time---i.e. the data-rate is the same. Therefore, the \gls{fdm} signal can be more resilient to multipath effects, while not compromising on the rate of transmission of the data.

However, there is an important caveat to note with this example---one which presents the tradeoff that exists when using \gls{fdm}. The frequency components, as shown in the example, were assumed to be impulsive. This was done for the sake of simplicity, to convey the advantage of using multiple sub-carriers instead of only one carrier. Yet, this assumption implies that adjacent sub-carriers can be infinitely close to each other without any crosstalk---that is, without interference between them. If this were true, the increased bandwidth requirements for an \gls{fdm} signal, compared to a single carrier wave, would be negligible. Unfortunately, this cannot be the case when considering the time-domain signals over a finite integration period. Instead, each sub-carrier has an associated \emph{spectrum}---which largely depends on the window function used in the system. For example, the straightforward rectangular window used in this project, \(w(t)\), with an integration period of \(T_u\), has the following spectrum in the frequency domain:
\begin{equation}
    w(t) = \textrm{rect}\bigg(\frac{t}{T_u}\bigg) \xLeftrightarrow{\quad\mathcal{F}\quad} W(\omega) = T_u \cdot \textrm{Sa}\bigg(\frac{\omega T_u}{2}\bigg)
\end{equation}
where \(\textrm{Sa}(x)=\frac{\sin{x}}{x}\). Since multiplication with this function in time is equivalent to convolution with its spectrum in frequency, the previously-impulsive frequency components for the \gls{fdm} signal were, in fact, shaped like \(\textrm{Sa}(\omega)\) functions. This is important because such spectra have large sidelobes, which can potentially cause interference between adjacent sub-carriers.

For example, suppose one uses three carrier waves, each with a \(\textrm{Sa}(\omega)\) spectrum, in an \gls{fdm} system. If the centre frequencies of these carriers are sufficiently distant from each other, there will be negligible interference from one spectrum's sidelobes to another spectrum's main lobe, and there will be minimal crosstalk. This is depicted in Figure~\ref{fig:three-sincs-good-distance}. However, if the carriers are placed too close to each other in frequency---as depicted in Figure~\ref{fig:three-sincs-bad-distance}---such interference will no longer be negligible, and the robustness of the system will degrade.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \begin{subfigure}[t]{0.58\textwidth}
        \centering
        \def\svgwidth{1\linewidth}
        {\setstretch{0.7} % Line spacing
        \tiny
            \input{../Images/three-sincs-good-distance.pdf_tex}}
        \caption{Three spectra spaced sufficiently far away from each other}
        \label{fig:three-sincs-good-distance}
    \end{subfigure}
    ~
    \begin{subfigure}[t]{0.4\textwidth}
        \centering
        \def\svgwidth{1\linewidth}
        {\setstretch{0.7} % Line spacing
        \tiny
            \input{../Images/three-sincs-bad-distance.pdf_tex}}
        \caption{Three spectra spaced insufficiently far away from each other}
        \label{fig:three-sincs-bad-distance}
    \end{subfigure}%
    \caption{Three spectra spaced sufficiently far away from each other}
    \label{fig:three-sincs-good-and-bad}
\end{figure}

Clearly, for a reliable system using \gls{fdm}, the sub-carriers must be sufficiently spaced from each other in the frequency domain. Consequently, there exists another tradeoff. As shown previously, if the number of sub-carriers increases, the system's resilience to multipath will improve; yet, as the number of sub-carriers increases, the total bandwidth required for the \gls{fdm} system similarly increases. Since the carriers need to be placed far apart in frequency, these bandwidth requirements can become untenable for a large number of sub-carriers. 
  
\subsection{Using Orthogonal Carriers}
\gls{fdm} is not a particularly efficient mode of transmitting parallel streams of data, because of the aforementioned bandwidth limits. However, in 1966, Robert W. Chang published an incredibly important paper~\cite{Chang1966}, outlining the idea of so-called \gls{ofdm}---a special case of \gls{fdm} using "orthogonal" carrier waves. In essence, by choosing specific sub-carrier frequencies for a system, one can reduce the total bandwidth requirements massively, and eliminate the concern of crosstalk between sub-carriers. For a given integration period of \(T_u\), the requirement is that the spacing between adjacent carrier waves,~\(\Delta\omega\), must be set to
\begin{equation}
    \Delta \omega = \frac{2\pi}{T_u}
\end{equation}
The reason that the sub-carriers can be placed so close together, without crosstalk, becomes evident when viewed graphically. Consider the plot for three \(\mathrm{Sa}(\omega)\) spectra arranged in this way, as shown in Figure~\ref{fig:ofdm-three-sincs}.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \def\svgwidth{0.8\linewidth}
    {\setstretch{0.7} % Line spacing
        \input{../Images/ofdm-three-sincs.pdf_tex}}
    \caption{Plot showing three \(\mathrm{Sa}(\omega)\) spectra arranged orthogonally.}
    \label{fig:ofdm-three-sincs}
\end{figure}

Notice how the peak of each spectrum, occurring at the respective carrier frequencies of \(\omega\) and \(\omega\pm\Delta\omega\), is perfectly aligned with the zero crossings of the other spectra. This relationship results in zero cross-talk at those frequencies, despite the spectra being packed together tightly. Mathematically, these signals are said to be "orthogonal" over the integration period---for a detailed proof of this fact, see Appendix~\ref{sect:proofs_ofdm-orthog}.

Therefore, by arranging the carrier frequencies in this specific way, many sub-carriers can be used within a limited bandwidth, creating an efficient method of transmitting bitstreams in parallel. A collection of such sub-carriers over a single integration period is usually termed an \gls{ofdm} "symbol."

\subsection{Leveraging the Discrete Fourier Transform \label{subsect:dab-std_dft}}
While the \gls{ofdm} method is a conceptually clever one, it could not be easily adopted for some time due to major practical constraints. Suppose one had~\(K\)~independent bitstreams to be modulated onto \(K\)~sub-carriers arranged orthogonally, in an \gls{ofdm} transmission. A na\"ive approach to this problem would involve using~\(K\)~independent oscillators---with each one tuned uniquely to one of the sub-carrier frequencies---and~\(K\)~independent multipliers. On the receiving end, a similar set-up would be required, along with a bank of narrowband low-pass filters. Such a set-up is depicted in Figure~\ref{fig:ofdm-multipliers}.

\begin{figure}
    \centering
    \captionsetup{type=figure}
    \def\svgwidth{0.90\linewidth}
    {
        \setstretch{0.7} % Line spacing
        \scriptsize
        \input{../Images/ofdm-multipliers.pdf_tex}
    }
    \caption{Depiction of a multiplier approach to \glsentrytext{ofdm}.}
    \label{fig:ofdm-multipliers}
\end{figure}

While this approach would indeed work theoretically, it would be expensive and impractical---the number of possible \gls{ofdm} sub-carriers used would depend on both the money and space available for the transmitters and receivers. As a consequence, such systems are limited to a small number of sub-carriers, making them fairly useless for anything that requires both a high data-rate and resilience to multipath effects.

Fortunately, in~\cite{Weinstein1971}, Weinstein and Ebert demonstrated how one could perform the same functionality as shown in Figure~\ref{fig:ofdm-multipliers}, using only the \gls{dft} algorithm. By using the more-efficient \gls{dft}-equivalent, the \gls{fft} algorithm, one can implement a system that uses a large number of sub-carriers---for example, over one thousand sub-carriers in the \gls{dab} standard---yet remains small, efficient, and affordable.
% A mathematical proof for the \gls{dft}-\gls{ofdm} relationship is provided in Appendix~\ref{sect:proofs_ofdm-dft}.

\subsection{Cyclic Prefixing \& Guard Intervals}
As discussed previously, the use of a longer symbol period enables a more robust signal reception process within a multipath environment. Furthermore, the use of \gls{ofdm} symbols enables an additional protective measure: that being, the implementation of so-called "guard intervals." A guard interval is a section of a given symbol that is prepended to the symbol itself, via a process called "cyclic prefixing." This is illustrated in Figure~\ref{fig:cyclic-prefix}.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \def\svgwidth{0.7\linewidth}
    {\setstretch{0.7} % Line spacing
        \input{../Images/cyclic-prefix.pdf_tex}}
    \caption{Illustration of the creation of a guard interval via cyclic prefixing.}
    \label{fig:cyclic-prefix}
\end{figure}

There are several things to note here. Firstly, notice that the guard interval data is defined from the \emph{ending} of the original symbol. That is, a guard interval with a period of \(T_g\) will be equal to the last \(T_g\) time-units of its original symbol. Secondly, observe that when this guard interval is prepended to the original symbol, the order of the data is maintained---this is demonstrated by the gradient shown in the illustration. Together these approaches are termed "cyclic prefixing." Thirdly, one can clearly see that the transmitted symbol is longer than the original symbol.

Importantly, though, the integration period---the time over which the symbol is considered---remains the same, equal to the length of the original symbol, despite the transmitted symbol's additional length. To understand why this is the case, and why the inclusion of a guard interval is helpful, consider the graphic shown in Figure~\ref{fig:guard-intervals-demo-2}.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \def\svgwidth{\linewidth}
    {\setstretch{0.7} % Line spacing
        \input{../Images/guard-intervals-demo-2.pdf_tex}}
    \caption{Depiction of the usefulness of a guard interval.}
    \label{fig:guard-intervals-demo-2}
\end{figure}

This illustration shows two received signals in a multipath situation---named, as before, the "direct" and "delayed" signals---one of which is received slightly later than the other. Two symbols are shown, \(p\)~and~\(q\), together with their delayed equivalents, \(\tilde{p}\)~and~\(\tilde{q}\), and the guard intervals are indicated with \(\Delta\) characters\footnote{The \(\Delta\) character is used to notate the duration of the guard interval in the \gls{dab} standard~\cite{dabstandard}.}. Observe that the integration period spans the original symbols exactly. Importantly, notice that the inclusion of guard intervals has ensured that the first symbol of the delayed signal, \(\tilde{p}\), does not interfere with the second symbol of the direct signal, \(q\). In other words, \gls{isi} has been avoided.

Additionally, recall that the guard interval is defined via cyclic prefixing. As a consequence of this, sections of a delayed symbol that fall outside of an integration period will be in the guard interval. For example, consider the chunk of \(\tilde{p}\) that falls outside of the integration period---underlined in red. Because of the guard interval, this chunk is identical to the chunk underlined in green, which \emph{is} included in the integration period. This result ensures that the guard interval of the delayed signal, \(\Delta_{\tilde{p}}\), does not interfere with the original symbol, \(p\).

Of course, the mere inclusion of the end chunk of the delayed symbol (the red section) in the integration period (as the green section) does not necessarily mean that the net received signal, the sum of the direct and delayed signals, will be correctly demodulated. This is where another strength of \gls{ofdm} lies: since all of the carrier waves are, by definition, orthogonal over the symbol period, it can be shown that cyclicly shifted versions of a symbol will yield the same \gls{ofdm} results when demodulated, except for a potential phase-shift. The mathematical details of this fact are unimportant for this context, but the point remains.

Guard intervals are hence a powerful mechanism to mitigate the effects of multipath. Once again, though, there exists a tradeoff. For \gls{isi} to be avoided, the maximum delay period between signals must be less than the guard interval period. Thus, increased robustness via an increased guard interval length has a cost of a decreased data-rate, since a longer guard interval means less actual data transmitted per unit of time.

\subsection{Frequency Interleaving}
There is another challenge to overcome in multipath situations that has not yet been discussed. When signals travel along different paths to a receiver, the superposition thereof could occur in various ways. Consider the two extreme cases: firstly, the signals could arrive in phase with each other, and thus add purely "constructively"---resulting in a larger received signal; alternatively, the signals could arrive out of phase with each other, and add purely "destructively"---resulting in no received signal. In reality, some intermediate situation would likely occur, where the received signal is either somewhat attenuated, or somewhat amplified.

Whatever the case may be, the nature of this observed superposition is clearly dependent on the \emph{phases} of the waves received. Because a wave is made up of many frequency components, a particular multipath-prone scene may cause a received signal to be amplified at some frequencies, and attenuated at others. The latter phenomenon is called \emph{frequency selective fading}, and can prove to be problematic for \gls{ofdm}-based systems. Naturally, this fading will often occur in localized regions of a particular spectrum---since nearby frequencies will have similar phases. Consequently, in the case of an \gls{ofdm} symbol, the fading can cause clusters of sub-carriers to be degraded simultaneously. Figure~\ref{fig:ofdm-selective-fading} illustrates such an effect.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \def\svgwidth{1\linewidth}
    {\setstretch{0.7} % Line spacing
        \input{../Images/ofdm-selective-fading.pdf_tex}}
    \caption{Illustration of frequency selective fading in an \glsentrytext{ofdm} spectrum.}
    \label{fig:ofdm-selective-fading}
\end{figure}

While the selective fading of sub-carriers cannot itself be completely avoided, one \emph{can} reduce its impact on the overall system performance. Ideally, if errors are going to arise in the transmission of a signal, it is better for these errors to occur randomly. This is partly motivated by the nature of the error correction algorithm used in \gls{cofdm}. Since selective fading would consistently affect certain clusters of carriers, causing repeated errors in certain bitstreams, the idea of "frequency interleaving" is introduced.

Essentially, before the data is modulated for transmission, it is distributed---i.e. interleaved---amongst the \gls{ofdm} sub-carriers. For example, the first data point might end up modulating the 100th carrier, while the 100th data point might modulate the 60th carrier, and so on. A specific, known mapping is used to interleave the data, the details for which are given in the \gls{dab} standard. Each \gls{dab} transmission mode has a unique mapping. The inverse process of deinterleaving can then applied at the receiver's end, undoing the effects of interleaving, and thus extracting the original bitstreams. In doing this, the errors caused by frequency selective fading will be less localized and more sporadic in the signal---making the system more robust.

\subsection{Forward Error Correction}
The final consideration for \gls{cofdm} is the "coded" part of \emph{coded}-\gls{ofdm}. In essence, this approach is almost equivalent to \gls{ofdm}, except that the data is convolutionally encoded before modulation. Redundant data is consequently added to the signal---a method which is broadly termed "Forward Error Correction." At the receiver's end, a Viterbi decoder can then be used to predict the most likely bits that were transmitted, thus hopefully correcting any errors that arose during transmission.

The scope of this project did not enable a thorough analysis or design of the error coding methods used in \gls{cofdm}. It is included here for completeness' sake, and further investigation is certainly recommended.

%------------------------------------------------------------------------------------------
% D Q P S K
%------------------------------------------------------------------------------------------
\section{Differential Quadrature Phase-Shift Keying \label{sect:dab-std_psk}}
The second pillar upon which the \gls{dab} standard was built is \gls{dqpsk}. Whereas \gls{cofdm} defines how the sub-carriers are arranged in a \gls{dab} symbol, \gls{dqpsk} defines how data is modulated onto these sub-carriers over consecutive symbols. To understand the mechanisms behind \gls{dqpsk}, one should first understand the concepts of \gls{psk}, \gls{qpsk}, and differential modulation. Since these ideas are somewhat simpler than those in the previous section, they are covered briefly in the coming text, followed by a description of \gls{dqpsk} itself. Importantly, the \gls{dab} standard uses a slight variation of conventional \gls{dqpsk}, termed \(\pi/4\)-\gls{dqpsk}, which will also be discussed.

\subsection{Phase-Shift Keying}
Consider a sinusoidal carrier wave with a frequency of \(\omega_0\) and an amplitude of \(A\). Unlike in \gls{ask} or \gls{fsk} scheme, where the amplitude or frequency of the carrier wave is modulated, a \gls{psk} scheme keeps both of these parameters constant over time. Instead, the \emph{phase} of the carrier wave is modulated. Mathematically, one can think of the modulated wave as follows:
\begin{equation}
    s(t) = A \cdot \sin(\omega_0t + \phi[n])
\end{equation}
where \(n=\left\lfloor \frac{t}{T} \right\rfloor\), with \(T\) as the symbol period; or, in other words, where \(\phi[n]\) is the corresponding phase for the symbol at the discrete-time step \(n\).

In the simplest case, one could take a bitstream of two possible values, either 0 or 1, and correspondingly modulate the carrier with a phase of either~\(0\) or \(\pi\) radians. Such an approach is called \emph{binary} phase-shift keying, since only two values are used. Figure~\ref{fig:binary-psk} shows a simple illustration of this process, with an arbitrary bitstream.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \def\svgwidth{1\linewidth}
    {\scriptsize
        \setstretch{0.7} % Line spacing
        \input{../Images/binary-psk.pdf_tex}}
    \caption{Illustration of binary phase-shift keying with an arbitrary bitstream.}
    \label{fig:binary-psk}
\end{figure}

Notice in the figure how the value at each point in the bitstream directly affects the corresponding phase of the modulated signal---when the bit is 0, the phase is \(0\) radians; when the bit is 1, the phase is \(\pi\) radians. These mappings are emphasised by the colours of red and blue respectively.

\subsection{Quadrature Phase-Shift Keying}
The idea of \gls{qpsk} is simply an extension of \gls{bpsk}, where four possible angles are used instead of two---hence the word \emph{quadrature}. Having four phase-values enables one to transmit two bits of data with each symbol---for example, the bit-pair "00" could map to an angle of 0 radians, the bit-pair "01" to an angle of \(\frac{\pi}{2}\) radians, and so on. Intuitively, this approach can send twice as much information as a \gls{bpsk} approach, in the same amount of time and constrained by the same bandwidth.

\subsection{Differential Modulation}
Consider the task of demodulation for a \gls{psk}-modulated signal, whether \gls{bpsk}, \gls{qpsk}, or of a higher order. On the surface, it may be tempting simply to split the incoming data into chunks, and measure the phase values of each of these chunks. Unfortunately, though, when a modulated signal travels from a transmitter to a receiver, various nonideal effects can alter the signal adversely---the details of which fall outside of the scope of this report. Consequently, such signals require a demodulation procedure which is "coherent," as explored thoroughly in~\cite{Grami2016}. This requirement results in receivers that are more complicated and more expensive than they would be otherwise.

A straightforward alternative to \gls{psk} which solves this problem is called \gls{dpsk}. In essence, instead of using the actual phase value of a carrier wave for modulation, a \gls{dpsk} scheme uses the \emph{difference} between the phase values of consecutive symbols. For example, if one was using differential-\gls{bpsk}---where two possible bits are available---one could map the bit \(0\) to a phase-difference of \(0\) radians between symbols, and the bit \(1\) to a phase-difference of \(\pi\) radians. Figure~\ref{fig:differential-binary-psk} illustrates this example.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \def\svgwidth{1\linewidth}
    {\scriptsize
        \setstretch{1.1} % Line spacing
        \input{../Images/differential-binary-psk.pdf_tex}}
    \caption{Illustration of a differential binary phase-shift keying with an arbitrary bitstream.}
    \label{fig:differential-binary-psk}
\end{figure}

Notice carefully the distinction between Figure~\ref{fig:binary-psk}, which illustrated a \gls{bpsk} scenario, and the figure here, which is showing a differential-\gls{bpsk} scenario. In the latter's case, no information can be garnered from the actual phase of the modulated signal, \(s(t)\), at any point in time. Instead, one must consider a symbol's phase, and compare it to the phase of the symbol before it. In this way, the demodulation process no longer needs to be coherent, which enables cheaper and more efficient receiver systems.

\subsection{Adding a $\pi/4$ Phase-Offset Between Consecutive Symbols}
The modulation scheme used by the \gls{dab} standard is essentially \gls{dqpsk}, with one minor revision: the four possible phase values are rotated by \(\frac{\pi}{4}\) radians after each symbol. Figure~\ref{fig:pi-by-4-dqpsk-illustration} illustrates this approach.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \def\svgwidth{1\linewidth}
    {\setstretch{0.7} % Line spacing
    \scriptsize
    \input{../Images/pi-by-4-dqpsk-illustration.pdf_tex}}
    \caption{Illustration of a \(\pi/4\)-\glsentrytext{dqpsk} modulation scheme.}
    \label{fig:pi-by-4-dqpsk-illustration}
\end{figure}

Accordingly, because of the \emph{differential} modulation, the possible \gls{dqpsk} values for this approach are:
\begin{equation}
    \Delta\phi \in \left\{ \frac{\pi}{4}, \frac{3\pi}{4}, -\frac{\pi}{4}, -\frac{3\pi}{4} \right\}
\end{equation}
This scheme is usually termed \(\pi/4\)-\gls{dqpsk}, but hereafter this distinction will not be made.

%------------------------------------------------------------------------------------------
% T R A N S M I S S I O N  F R A M E
%------------------------------------------------------------------------------------------
\section{Transmission Frame}
The previous two sections have detailed the two core technologies that underpin the \gls{dab} standard: \gls{cofdm}, and \gls{dqpsk}. It is important now to discuss how these concepts are practically implemented in a \gls{dab} signal. This section begins with an overview of a \gls{dab} "symbol", followed by the structure of a \gls{dab} "transmission frame" in the time domain. The three relevant regions in this structure are then highlighted briefly. Relevance in this context reflects that which is useful in a broader \gls{pr} system, not necessarily what is relevant in a \gls{dab} radio receiver system.

Note that the dimensions provided in the coming text are all generic, independent of the \gls{dab} transmission mode used. Appendix~\ref{sect:dab-values_t-mode} provides a table showing the actual values for these dimensions, for each of the possible modes.

\subsection{Overview}
Fundamentally, a \gls{dab} signal is constituted of a series of \gls{dab} transmission "frames", where each frame is a collection of \gls{dab} "symbols" (i.e. \gls{ofdm} symbols). In the frequency domain, each \gls{dab} symbol contains \(K\) adjacent \gls{ofdm} sub-carriers, arranged symmetrically around a central frequency, which itself is not a sub-carrier. Hence, the \gls{dab} spectrum spans \((K+1)\) sub-carriers, with a spacing of \(\Delta\omega\) between each of them\footnote{Recall that, for orthogonality to hold over an integration period of \(T\), the relationship of  \(\Delta\omega = \frac{2\pi}{T}\) must hold.}. The magnitude of the frequency spectrum of a single \gls{dab} symbol is depicted in Figure~\ref{fig:dab-single-symbol-diagram}, along with various annotations of the aforementioned information.

Every \gls{dab} frame contains \(L\)~\gls{dab} symbols (as well as the \gls{ns}, which will be discussed shortly), where the \(K\)~\gls{ofdm} carriers from symbol to symbol are differentially modulated using \gls{dqpsk}. The first of these symbols is always a known reference symbol, aptly called the \gls{prs}, with specifically defined phase values. Since these phase values are known, the subsequent \((L-1)\) symbols can be differentially modulated, and later differentially demodulated, deterministically. The symbols from a frame can be viewed as a surface plot, as illustrated in Figure~\ref{fig:dab-surface-diagram}.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \begin{subfigure}[t]{0.47\textwidth}
        \centering
        \def\svgwidth{1\linewidth}
        {\scriptsize
            \setstretch{0.7} % Line spacing
            \input{../Images/dab-single-symbol-diagram.pdf_tex}}
        \caption{A single \glsentrytext{dab} symbol, with annotations.}
        \label{fig:dab-single-symbol-diagram}
    \end{subfigure}%
    ~ 
    \begin{subfigure}[t]{0.52\textwidth}
        \def\svgwidth{1\linewidth}
        {\scriptsize
            \setstretch{0.7} % Line spacing
            \input{../Images/dab-surface-diagram.pdf_tex}}
        \caption{The \(L\) symbols of a \glsentrytext{dab} frame.}
        \label{fig:dab-surface-diagram}
    \end{subfigure}
    \caption{Illustrations of the magnitude of a \glsentrytext{dab} symbol's frequency spectrum.}
    \label{ig:dab-symbol-diagrams}
\end{figure}

At this point, it is important to make a note regarding nomenclature. The plots given in Figure~\ref{ig:dab-symbol-diagrams} were shown from a frequency-domain perspective. Of course, the time-domain plots of these symbols would still represent the same underlying physical signal in the real-world, only viewed with a different lens. But, for the sake of clarity, a minor distinction will be made for this report. Notice that the \gls{ofdm} sub-carrier values, when viewed from the frequency-domain perspective, are readily available for consideration without further transformation. That is, if one wanted to know the value of a certain sub-carrier, \(\omega_n\), one could simply index that sub-carrier in the frequency-domain array. In that sense, the signal is "demultiplexed" when in this perspective. In contrast, when the signal has been generated in the time-domain via the \gls{fft} algorithm---as explained in Section~\ref{subsect:dab-std_dft}---the numerous sub-carrier signals are summed into one complex signal. Therefore, this perspective can be considered as "multiplexed."

In the time domain, a \gls{dab} frame begins with a \gls{ns}, which has a period of~\(T_\mathrm{null}\). This is followed by the \gls{prs}, the first of the~\(L\) \gls{dab} symbols. The remaining~\((L-1)\) symbols come next, and can be broadly termed the "data-carrying" symbols. Each of these~\(L\) \gls{dab} symbols have a "useful" period of~\(T_u\). Prepended to each useful interval is a guard interval, with a period of~\(T_g\) (this period is sometimes notated as~\(\Delta\)). The total symbol period,~\(T_s\), is therefore the sum of these two periods: \(T_s = T_u + T_g\). The entire frame has a period of~\(T_f\), which includes the \gls{ns} and the~\(L\) \gls{dab} symbols. Figure~\ref{fig:transmission-frame-illustration} illustrates all of this information, as annotated on a single \gls{dab} frame.

\begin{figure}[htbp]
    \centering
    \captionsetup{type=figure}
    \def\svgwidth{1\linewidth}
    {\setstretch{0.7} % Line spacing
    \scriptsize
    \input{../Images/transmission-frame-illustration.pdf_tex}}
    \caption{Illustration of a \glsentrytext{dab} transmission frame.}
    \label{fig:transmission-frame-illustration}
\end{figure}

Each of the three regions of the \gls{dab} frame is explained briefly in the coming subsections.

\subsection{Null Symbol \label{subsect:dab-std_null}}
The \gls{ns} is a period that begins the \gls{dab} frame, where all \gls{ofdm} sub-carriers are "turned off"---i.e. set to a value of 0. Hence, during this time, no power is transmitted. The purpose of this symbol is for "coarse" synchronisation of the frame. That is, to detect the approximate beginning of a \gls{dab} frame.

\subsection{Phase Reference Symbol \label{subsect:dab-std_prs}}
The \gls{prs} is the first of the \(L\) \gls{dab} symbols within a frame, and is arguably the most important. Fundamentally, it serves two purposes. Firstly, as mentioned previously, it provides a reference for the differential modulation of the subsequent symbols. Secondly, it serves as a mechanism for "fine" synchronisation of the \gls{dab} frame. Because the \gls{prs} consists of known values, detecting the location of these values in a received signal can reveal the precise beginning of a frame. Together, the \gls{ns} and the \gls{prs} are called the "Synchronisation Channel."

The \gls{prs} is generated via a specifically-defined process outlined in the \gls{dab} standard, which uses various formulae and look-up tables~\cite{dabstandard}. Note that the values of the \gls{prs} are not arbitrary: they create a so-called \gls{cazac} waveform in time, which facilitates robust detection in the presence of noise and other unwanted effects~\cite{gandy2003dab}.

\subsection{Data-carrying Symbols \label{subsect:dab-std_data}}
The "data-carrying" symbols are all those that follow the \gls{prs} in a \gls{dab} frame. Note that this terminology is not used in the \gls{dab} specifications document whatsoever, and is introduced here for the sake of simplicity. The formal \gls{dab} standard delves into the technicalities of these symbols, dividing them into a "Fast Information Channel," and a "Main Service Channel." It further defines concepts such as "Fast Information Blocks," "Common Interleaved Frames," and so on.

Fortunately, because of the context of this project, one can ignore these details. Recall that a \gls{pr} system only requires the \gls{dab} processing chain to \emph{reconstruct} a given \gls{dab} signal perfectly according to the standard. Since no actual data (audio, station information, etc.) needs to be extracted from the signal, the specifics of the data-carrying symbols are safely omitted in this report.

\section{Summary}
This chapter provided an insight into the important concepts surrounding the \gls{dab} standard, as defined in~\cite{dabstandard}. This included a detailed motivation for and description of both \gls{cofdm} and \gls{dqpsk}, which are fundamental concepts used in \gls{dab} signals. Thereafter, an overview of the relevant aspects of the \gls{dab} transmission frame was outlined, based on the specific intention of eventual integration into a \gls{pr} system.

% ----------------------------------------------------
\ifstandalone
\bibliography{../Bibliography/References.bib}
\printnoidxglossary[type=\acronymtype, nonumberlist]
\fi
\end{document}
% ----------------------------------------------------